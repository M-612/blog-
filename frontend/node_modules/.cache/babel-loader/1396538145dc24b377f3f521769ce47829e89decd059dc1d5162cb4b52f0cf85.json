{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{GoogleOAuthProvider,GoogleLogin}from\"@react-oauth/google\";import jwtDecode from\"jwt-decode\";import Navbar from\"./components/Navbar\";import BlogForm from\"./components/BlogForm\";import BlogList from\"./components/BlogList\";import\"./styles/blog.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(JSON.parse(localStorage.getItem(\"user\"))||null);const[blogs,setBlogs]=useState([]);// ‚úÖ Fetch all blogs from backend\nconst fetchBlogs=async()=>{try{const res=await fetch(\"http://localhost:5000/api/blogs\");const data=await res.json();setBlogs(data);}catch(err){console.error(\"Error fetching blogs:\",err);}};useEffect(()=>{fetchBlogs();},[]);// ‚úÖ Handle Google login\nconst handleLoginSuccess=credentialResponse=>{const decoded=jwtDecode(credentialResponse.credential);const userData={name:decoded.name,email:decoded.email,picture:decoded.picture};setUser(userData);localStorage.setItem(\"user\",JSON.stringify(userData));};// ‚úÖ Logout\nconst handleLogout=()=>{setUser(null);localStorage.removeItem(\"user\");};return/*#__PURE__*/_jsx(GoogleOAuthProvider,{clientId:\"955196529827-0j3ns7gqlee14u9eqrlhve8piiuqqj8s.apps.googleusercontent.com\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{user:user,onLogout:handleLogout}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(BlogForm,{user:user,fetchBlogs:fetchBlogs}),/*#__PURE__*/_jsx(BlogList,{blogs:blogs})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to Simple Blog \\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Login with Google to start posting!\"}),/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleLoginSuccess,onError:()=>console.log(\"Login Failed\")})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","GoogleOAuthProvider","GoogleLogin","jwtDecode","Navbar","BlogForm","BlogList","jsx","_jsx","jsxs","_jsxs","App","user","setUser","JSON","parse","localStorage","getItem","blogs","setBlogs","fetchBlogs","res","fetch","data","json","err","console","error","handleLoginSuccess","credentialResponse","decoded","credential","userData","name","email","picture","setItem","stringify","handleLogout","removeItem","clientId","children","className","onLogout","onSuccess","onError","log"],"sources":["C:/Users/MRUDULA/Downloads/simple-blog/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { GoogleOAuthProvider, GoogleLogin } from \"@react-oauth/google\";\nimport jwtDecode from \"jwt-decode\";\nimport Navbar from \"./components/Navbar\";\nimport BlogForm from \"./components/BlogForm\";\nimport BlogList from \"./components/BlogList\";\nimport \"./styles/blog.css\";\n\nfunction App() {\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem(\"user\")) || null\n  );\n  const [blogs, setBlogs] = useState([]);\n\n  // ‚úÖ Fetch all blogs from backend\n  const fetchBlogs = async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/api/blogs\");\n      const data = await res.json();\n      setBlogs(data);\n    } catch (err) {\n      console.error(\"Error fetching blogs:\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchBlogs();\n  }, []);\n\n  // ‚úÖ Handle Google login\n  const handleLoginSuccess = (credentialResponse) => {\n    const decoded = jwtDecode(credentialResponse.credential);\n    const userData = {\n      name: decoded.name,\n      email: decoded.email,\n      picture: decoded.picture,\n    };\n    setUser(userData);\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n  };\n\n  // ‚úÖ Logout\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.removeItem(\"user\");\n  };\n\n  return (\n    <GoogleOAuthProvider clientId=\"955196529827-0j3ns7gqlee14u9eqrlhve8piiuqqj8s.apps.googleusercontent.com\">\n      <div className=\"App\">\n        <Navbar user={user} onLogout={handleLogout} />\n        {user ? (\n          <div className=\"main-content\">\n            <BlogForm user={user} fetchBlogs={fetchBlogs} />\n            <BlogList blogs={blogs} />\n          </div>\n        ) : (\n          <div className=\"login-container\">\n            <h2>Welcome to Simple Blog üìù</h2>\n            <p>Login with Google to start posting!</p>\n            <GoogleLogin\n              onSuccess={handleLoginSuccess}\n              onError={() => console.log(\"Login Failed\")}\n            />\n          </div>\n        )}\n      </div>\n    </GoogleOAuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}